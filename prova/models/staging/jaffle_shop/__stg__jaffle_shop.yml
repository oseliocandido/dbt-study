version: 2

models:
  - name: stg_product
    description: Products Information with color, unity price, category and subcategory
    config:
      enabled: true 

      #database: postgres
      schema: staging
      alias: products

      #Testar eles quando for estudar somente eles
      # pre-hook:
      # post-hook:

      #Testar funcionamento exato com CLI e precendence order
      full_refresh: false
      
      materialized: view
      #sql_header: 
      #grants:

      persist_docs:
        relation: true
        columns: true
    #   contract:
    #     enforced: true

    # constraints:
    #   - type: unique
    #     columns: ['sk_product']
      

    #   - type: check
    #     columns: ['category','subcategory']
    #     expression: "category != subcategory"
    #     name: constraint_product_category_subcategory

    columns:
      - name: sk_product
        #data_type: int
        description: Surrogate key of product
        tests:
          - unique
          - not_null 
          # - generic_column_test:
          #     argumento: valor
          #     config:
          #       severity: error
